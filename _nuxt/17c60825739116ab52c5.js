(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1380:function(e,t,r){"use strict";r.r(t);var n=r(15),l=r(43),o={props:{message:{type:Object,required:!0}},computed:Object(n.a)({},Object(l.b)({userAuth:"users/auth"})),methods:{classes:function(e){var t={sent:{wrapper:"self-end",canvas:"bg-grey-darker text-grey-light"},received:{wrapper:"self-start",canvas:"bg-grey-light text-grey-darker"}},r=this.message.sent===this.userAuth.uid,n=this.message.received===this.userAuth.uid;return r?t.sent[e]:n?t.received[e]:""}}},c=r(25),d={components:{CTalkMessage:Object(c.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mb-2",class:e.classes("wrapper")},[r("div",{staticClass:"rounded text-sm px-4 py-2 break-words",class:e.classes("canvas")},[e._v("\n    "+e._s(e.message.body)+"\n  ")]),e._v(" "),r("div",{staticClass:"text-grey-dark text-xxs pt-1 select-none"},[e._v("\n    "+e._s(new Date(e.message.timestamp).toLocaleString())+"\n  ")])])},[],!1,null,null,null).exports},data:function(){return{message:""}},computed:Object(n.a)({},Object(l.b)({user:"users/opened",talk:"users/talk"})),methods:{messageHandle:function(){this.message.trim().length&&(this.$store.dispatch("users/sendMessage",this.message),this.message="")}}},m=Object(c.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("div",{staticClass:"relative min-h-screen"},[r("div",{staticClass:"absolute pin-t pin-r pin-l z-10 p-2 shadow flex justify-between items-center bg-grey-dark animated fadeInUp faster",attrs:{"aria-label":"Menu da conversa atual"}},[r("div",{staticClass:"flex items-center pl-2",attrs:{"aria-label":"Dados do usuário da conversa"}},[r("div",{staticClass:"bg-cover rounded w-10 h-10",style:{backgroundImage:"url("+e.user.photoURL+")"},attrs:{"aria-label":"Foto do usuário"}}),e._v(" "),r("div",{staticClass:"flex flex-col ml-2"},[r("div",{staticClass:"font-bold text-sm text-white mb-1",attrs:{"aria-label":"Nome do usuário"}},[e._v("\n          "+e._s(e.user.displayName||e.user.username)+"\n        ")]),e._v(" "),r("div",{staticClass:"text-xs text-white select-none",attrs:{"aria-label":"Nome legal"}},[e._v("\n          @"+e._s(e.user.username)+"\n        ")])])])]),e._v(" "),r("div",{staticClass:"absolute pin-r pin-l flex flex-col-reverse py-16 pl-4 pr-1 max-h-screen min-h-screen text-grey overflow-x-hidden overflow-y-scroll scroll bg-cover",attrs:{"aria-label":"Bate-papo"}},[e._l(e.talk,function(e){return r("c-talk-message",{key:e.id,staticClass:"animated fadeInUp faster max-w-md",attrs:{message:e}})}),e._v(" "),r("div",{staticClass:"py-8 mb-2 flex-1"})],2),e._v(" "),r("div",{staticClass:"absolute pin-r pin-b pin-l p-4 z-10"},[r("form",{staticClass:"relative",on:{submit:function(t){return t.preventDefault(),e.messageHandle(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"w-full rounded p-4 pr-12 text-sm text-grey-dark shadow transition focus:outline-none",attrs:{type:"text",placeholder:"Digitar a mensagem..."},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),r("transition",{attrs:{"enter-active-class":"animated faster fadeIn","leave-active-class":"animated faster fadeOut"}},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.message.length,expression:"message.length"}],staticClass:"absolute pin-r pin-t w-10 h-10 mt-1 mr-1 p-2 bg-grey-darkest text-xs text-white rounded focus:outline-none"},[r("i",{staticClass:"fa fa-paper-plane pointer-events-none"})])])],1)])]):e._e()},[],!1,null,null,null);t.default=m.exports}}]);